# RAG Assistant โ Retrieval-Augmented Generation

ะะพะฝัะพะปัะฝัะน AI-ะฐััะธััะตะฝั ั ะฟะพะดะดะตัะถะบะพะน RAG (Retrieval-Augmented Generation), ัะตะฐะปะธะทะพะฒะฐะฝะฝัะน ะฒ ะดะฒัั ะฒะฐัะธะฐะฝัะฐั: ะฝะฐ ะฑะฐะทะต **OpenAI API** ะธ **GigaChat (ะกะฑะตั)**.

## ะะฟะธัะฐะฝะธะต

ะกะธััะตะผะฐ ะฟัะธะฝะธะผะฐะตั ะฒะพะฟัะพั ะฟะพะปัะทะพะฒะฐัะตะปั, ะฝะฐัะพะดะธั ัะตะปะตะฒะฐะฝัะฝัะต ะดะพะบัะผะตะฝัั ะฒ ะฒะตะบัะพัะฝะพะน ะฑะฐะทะต ะดะฐะฝะฝัั ะธ ะณะตะฝะตัะธััะตั ะพัะฒะตั ั ะพะฟะพัะพะน ะฝะฐ ะฝะฐะนะดะตะฝะฝัะน ะบะพะฝัะตะบัั. ะะตะทัะปััะฐัั ะบะตัะธัััััั ะฒ SQLite ะดะปั ััะบะพัะตะฝะธั ะฟะพะฒัะพัะฝัั ะทะฐะฟัะพัะพะฒ.

### ะััะธัะตะบัััะฐ RAG-ะฟะฐะนะฟะปะฐะนะฝะฐ

```
ะะพะฟัะพั ะฟะพะปัะทะพะฒะฐัะตะปั
        โ
        โผ
   โโโโโโโโโโโโ     ะะฐ     โโโโโโโโโโโโโโโ
   โ   ะะตั    โ โโโโโโโโโโบ โ ะัะฒะตั ะธะท    โ
   โ (SQLite) โ            โ ะบะตัะฐ        โ
   โโโโโโโโโโโโ            โโโโโโโโโโโโโโโ
        โ ะะตั
        โผ
โโโโโโโโโโโโโโโโโโโโโ
โ  ะะตะบัะพัะฝัะน ะฟะพะธัะบ  โ
โ   (ChromaDB +     โ
โ  OpenAI Embeddingsโ
โ text-embedding-   โ
โ    3-small)       โ
โโโโโโโโโโโโโโโโโโโโโ
        โ
        โผ
โโโโโโโโโโโโโโโโโโโโโ
โ  ะะตะฝะตัะฐัะธั ะพัะฒะตัะฐ โ
โ  (OpenAI GPT /    โ
โ    GigaChat)      โ
โโโโโโโโโโโโโโโโโโโโโ
        โ
        โผ
   ะกะพััะฐะฝะตะฝะธะต ะฒ ะบะตั
```

## ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
5-8-final/
โโโ assistant_api/          # ะััะธััะตะฝั ะฝะฐ OpenAI API
โ   โโโ app.py              # ะขะพัะบะฐ ะฒัะพะดะฐ (ะบะพะฝัะพะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต)
โ   โโโ rag_pipeline.py     # RAG-ะฟะฐะนะฟะปะฐะนะฝ (ะบะตั โ ะฟะพะธัะบ โ ะณะตะฝะตัะฐัะธั)
โ   โโโ vector_store.py     # ะะฐะฑะพัะฐ ั ChromaDB (chunking, embeddings, ะฟะพะธัะบ)
โ   โโโ cache.py            # ะะตัะธัะพะฒะฐะฝะธะต ะฒ SQLite
โ   โโโ evaluate_ragas.py   # ะัะตะฝะบะฐ ะบะฐัะตััะฒะฐ ัะตัะตะท RAGAS
โ   โโโ data/
โ       โโโ docs.txt        # ะะฐะทะฐ ะทะฝะฐะฝะธะน
โโโ assistant_giga/         # ะััะธััะตะฝั ะฝะฐ GigaChat (ะกะฑะตั)
โ   โโโ app.py              # ะขะพัะบะฐ ะฒัะพะดะฐ (ะบะพะฝัะพะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต)
โ   โโโ rag_pipeline.py     # RAG-ะฟะฐะนะฟะปะฐะนะฝ ะดะปั GigaChat
โ   โโโ vector_store.py     # ะะฐะฑะพัะฐ ั ChromaDB
โ   โโโ cache.py            # ะะตัะธัะพะฒะฐะฝะธะต ะฒ SQLite
โ   โโโ gigachat_client.py  # HTTP-ะบะปะธะตะฝั ะดะปั GigaChat API
โ   โโโ data/
โ       โโโ docs.txt        # ะะฐะทะฐ ะทะฝะฐะฝะธะน
โโโ requirements.txt        # ะะฐะฒะธัะธะผะพััะธ Python
```

## ะะพะผะฟะพะฝะตะฝัั ัะธััะตะผั

| ะะพะผะฟะพะฝะตะฝั | ะะฟะธัะฐะฝะธะต |
|-----------|----------|
| **RAG Pipeline** | ะัะบะตัััะฐัะพั: ะฟัะพะฒะตััะตั ะบะตั, ะธัะตั ะดะพะบัะผะตะฝัั, ะณะตะฝะตัะธััะตั ะพัะฒะตั, ัะพััะฐะฝัะตั ะฒ ะบะตั |
| **Vector Store** | ะฅัะฐะฝะตะฝะธะต ะธ ะฟะพะธัะบ ะดะพะบัะผะตะฝัะพะฒ ัะตัะตะท ChromaDB ั ัะผะฑะตะดะดะธะฝะณะฐะผะธ OpenAI (`text-embedding-3-small`) |
| **Cache** | SQLite-ะบะตั ั ัะตัะธัะพะฒะฐะฝะธะตะผ ะทะฐะฟัะพัะพะฒ (SHA-256) ะดะปั ะฑัััััั ะฟะพะฒัะพัะฝัั ะพัะฒะตัะพะฒ |
| **Chunking** | ะะฐะทะฑะธะตะฝะธะต ัะตะบััะฐ ะฝะฐ ัะฐะฝะบะธ ั ััััะพะผ ะฐะฑะทะฐัะตะฒ ะธ ะฟัะตะดะปะพะถะตะฝะธะน, ั ะฟะตัะตะบัััะธะตะผ (overlap) |
| **RAGAS Evaluation** | ะัะตะฝะบะฐ ะบะฐัะตััะฒะฐ RAG: faithfulness, context precision ะธ ะดััะณะธะต ะผะตััะธะบะธ |

## ะฃััะฐะฝะพะฒะบะฐ

### ะขัะตะฑะพะฒะฐะฝะธั

- Python 3.11

### ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
pip install -r requirements.txt
```

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

ะกะพะทะดะฐะนัะต ัะฐะนะป `.env` ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ ะธะปะธ ะทะฐะดะฐะนัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั:

```env
# ะะปั assistant_api (OpenAI)
OPENAI_API_KEY=your-openai-api-key

# ะะปั assistant_giga (GigaChat)
GIGACHAT_AUTH_KEY=your-gigachat-auth-key
GIGACHAT_RQUID=your-gigachat-rquid
```

## ะะฐะฟััะบ

### OpenAI-ะฒะตััะธั

```bash
cd assistant_api
python app.py
```

### GigaChat-ะฒะตััะธั

```bash
cd assistant_giga
python app.py
```

## ะัะฟะพะปัะทะพะฒะฐะฝะธะต

ะะพัะปะต ะทะฐะฟััะบะฐ ะดะพัััะฟะฝั ะบะพะผะฐะฝะดั:

- ะะฒะตะดะธัะต ะฒะพะฟัะพั โ ะฟะพะปััะธัะต ะพัะฒะตั ะฝะฐ ะพัะฝะพะฒะต ะฑะฐะทั ะทะฝะฐะฝะธะน
- `stats` โ ััะฐัะธััะธะบะฐ ัะธััะตะผั (ะบะพะปะธัะตััะฒะพ ะดะพะบัะผะตะฝัะพะฒ, ะทะฐะฟะธัะตะน ะฒ ะบะตัะต)
- `clear` โ ะพัะธััะบะฐ ะบะตัะฐ
- `exit` / `quit` โ ะฒััะพะด

### ะัะธะผะตั ัะฐะฑะพัั

```
๐ญ ะะฐั ะฒะพะฟัะพั: ะงัะพ ัะฐะบะพะต RAG?

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ ะะพะฟัะพั: ะงัะพ ัะฐะบะพะต RAG?
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ ะััะพัะฝะธะบ: OpenAI API (gpt-4o-mini)
   ะัะฟะพะปัะทะพะฒะฐะฝะพ ะดะพะบัะผะตะฝัะพะฒ: 3

๐ฌ ะัะฒะตั:
RAG (Retrieval-Augmented Generation) โ ััะพ ะฟะพะดัะพะด, ะบะพัะพััะน ะบะพะผะฑะธะฝะธััะตั
ะธะทะฒะปะตัะตะฝะธะต ะธะฝัะพัะผะฐัะธะธ ะธะท ะฑะฐะทั ะทะฝะฐะฝะธะน ั ะณะตะฝะตัะฐัะธะตะน ัะตะบััะฐ ัะทัะบะพะฒัะผะธ ะผะพะดะตะปัะผะธ.
RAG ัะธััะตะผั ัะฝะฐัะฐะปะฐ ะฝะฐัะพะดัั ัะตะปะตะฒะฐะฝัะฝัะต ะดะพะบัะผะตะฝัั, ะทะฐัะตะผ ะธัะฟะพะปัะทััั ะธั ะบะฐะบ
ะบะพะฝัะตะบัั ะดะปั ะณะตะฝะตัะฐัะธะธ ะพัะฒะตัะฐ.
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ะัะตะฝะบะฐ ะบะฐัะตััะฒะฐ (RAGAS)

ะะปั ะพัะตะฝะบะธ ะบะฐัะตััะฒะฐ RAG-ัะธััะตะผั:

```bash
cd assistant_api
python evaluate_ragas.py
```

ะัะตะฝะธะฒะฐะตะผัะต ะผะตััะธะบะธ:
- **Faithfulness** โ ะดะพััะพะฒะตัะฝะพััั ะพัะฒะตัะฐ ะพัะฝะพัะธัะตะปัะฝะพ ะบะพะฝัะตะบััะฐ
- **Context Precision** โ ัะพัะฝะพััั ะฝะฐะนะดะตะฝะฝัั ะดะพะบัะผะตะฝัะพะฒ

## ะขะตัะฝะพะปะพะณะธะธ

- **LLM**: OpenAI GPT-4o-mini / GigaChat
- **Embeddings**: OpenAI `text-embedding-3-small`
- **ะะตะบัะพัะฝะฐั ะะ**: ChromaDB
- **ะะตั**: SQLite
- **RAG-ััะตะนะผะฒะพัะบ**: LangChain
- **ะัะตะฝะบะฐ**: RAGAS
- **ะฏะทัะบ**: Python 3.11
